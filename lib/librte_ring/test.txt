while (ring.get()) {
    __asm__ volatile ("pause":::"memory");
}
timefd
process()
